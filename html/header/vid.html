<script>
    videoEmbeds = () => {
        for (el of document.getElementsByClassName('lectureVideoEmbed')) {
            ((el) => {
                const descHTML = el.innerHTML;
                const dt = el.getAttribute('data-video-date');
                const dtStr = `${parseInt(dt.slice(5, 7))}/${parseInt(dt.slice(8, 10))}`
                el.innerHTML = `&#127909;<small class="tinyText">Lecture video ${dtStr}</small>`;
                el.style.cursor = 'pointer';
                const embedIndentDiv = document.createElement('div');
                embedIndentDiv.classList = ['embedIndent'];
                el.appendChild(embedIndentDiv);
                el.onclick = () => {
                    embedIndentDiv.style.display = embedIndentDiv.style.display == 'block' ? 'none' : 'block';
                    if (!!!vidIframe.getAttribute('src')) {
                        vidIframe.setAttribute('src', `https://mediasite.k-state.edu/mediasite/Play/${el.getAttribute('data-video-id')}?player=NextGenSystemPlayer&amp;cover=true&amp;lockControls=false&amp;coverTitle=false&amp;autoStart=false&amp;useExtensions=false&amp;disableXR=false&amp;quizzes=false&amp;hotspots=false&amp;clickToPlay=true&amp;playfrom=0`);
                        embedIndentDiv.appendChild(vidIframe);
                    }
                }
                const textDiv = document.createElement('div');
                textDiv.innerHTML = `<b>Class lecture ${dtStr}: </b>` + descHTML;
                embedIndentDiv.appendChild(textDiv);
                const vidIframe = document.createElement('iframe');
                vidIframe.classList = ['lectureEmbedIframe'];
            })(el)
        }
    }
</script>